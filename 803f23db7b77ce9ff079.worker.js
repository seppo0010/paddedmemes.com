(()=>{var t={392:(t,e,r)=>{t=r.nmd(t);var n="__lodash_hash_undefined__",o=1/0,i=9007199254740991,u="[object Arguments]",a="[object Array]",s="[object Boolean]",c="[object Date]",l="[object Error]",f="[object Function]",h="[object Map]",d="[object Number]",p="[object Object]",v="[object Promise]",y="[object RegExp]",g="[object Set]",_="[object String]",m="[object Symbol]",w="[object WeakMap]",b="[object ArrayBuffer]",F="[object DataView]",x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/,j=/^\./,O=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,E=/\\(\\)?/g,z=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,D={};D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D[u]=D[a]=D[b]=D[s]=D[F]=D[c]=D[l]=D[f]=D[h]=D[d]=D[p]=D[y]=D[g]=D[_]=D[w]=!1;var S="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,C="object"==typeof self&&self&&self.Object===Object&&self,M=S||C||Function("return this")(),I=e&&!e.nodeType&&e,L=I&&t&&!t.nodeType&&t,P=L&&L.exports===I&&S.process,B=function(){try{return P&&P.binding("util")}catch(t){}}(),R=B&&B.isTypedArray;function T(t,e){return!!(t?t.length:0)&&function(t,e,r){if(e!==e)return function(t,e,r,n){var o=t.length,i=r+(n?1:-1);for(;n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,J,r);var n=r-1,o=t.length;for(;++n<o;)if(t[n]===e)return n;return-1}(t,e,0)>-1}function N(t,e,r){for(var n=-1,o=t?t.length:0;++n<o;)if(r(e,t[n]))return!0;return!1}function W(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function J(t){return t!==t}function $(t,e){return t.has(e)}function U(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(r){}return e}function Q(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function V(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var G,q,K=Array.prototype,Y=Function.prototype,H=Object.prototype,X=M["__core-js_shared__"],Z=function(){var t=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),tt=Y.toString,et=H.hasOwnProperty,rt=H.toString,nt=RegExp("^"+tt.call(et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=M.Symbol,it=M.Uint8Array,ut=H.propertyIsEnumerable,at=K.splice,st=(G=Object.keys,q=Object,function(t){return G(q(t))}),ct=Nt(M,"DataView"),lt=Nt(M,"Map"),ft=Nt(M,"Promise"),ht=Nt(M,"Set"),dt=Nt(M,"WeakMap"),pt=Nt(Object,"create"),vt=qt(ct),yt=qt(lt),gt=qt(ft),_t=qt(ht),mt=qt(dt),wt=ot?ot.prototype:void 0,bt=wt?wt.valueOf:void 0,Ft=wt?wt.toString:void 0;function xt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function At(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function jt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ot(t){var e=-1,r=t?t.length:0;for(this.__data__=new jt;++e<r;)this.add(t[e])}function Et(t){this.__data__=new At(t)}function zt(t,e){var r=Xt(t)||Ht(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var i in t)!e&&!et.call(t,i)||o&&("length"==i||Jt(i,n))||r.push(i);return r}function kt(t,e){for(var r=t.length;r--;)if(Yt(t[r][0],e))return r;return-1}function Dt(t,e){for(var r=0,n=(e=$t(e,t)?[e]:Pt(e)).length;null!=t&&r<n;)t=t[Gt(e[r++])];return r&&r==n?t:void 0}function St(t,e){return null!=t&&e in Object(t)}function Ct(t,e,r,n,o){return t===e||(null==t||null==e||!re(t)&&!ne(e)?t!==t&&e!==e:function(t,e,r,n,o,i){var f=Xt(t),v=Xt(e),w=a,x=a;f||(w=(w=Wt(t))==u?p:w);v||(x=(x=Wt(e))==u?p:x);var A=w==p&&!U(t),j=x==p&&!U(e),O=w==x;if(O&&!A)return i||(i=new Et),f||ie(t)?Rt(t,e,r,n,o,i):function(t,e,r,n,o,i,u){switch(r){case F:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b:return!(t.byteLength!=e.byteLength||!n(new it(t),new it(e)));case s:case c:case d:return Yt(+t,+e);case l:return t.name==e.name&&t.message==e.message;case y:case _:return t==e+"";case h:var a=Q;case g:var f=2&i;if(a||(a=V),t.size!=e.size&&!f)return!1;var p=u.get(t);if(p)return p==e;i|=1,u.set(t,e);var v=Rt(a(t),a(e),n,o,i,u);return u.delete(t),v;case m:if(bt)return bt.call(t)==bt.call(e)}return!1}(t,e,w,r,n,o,i);if(!(2&o)){var E=A&&et.call(t,"__wrapped__"),z=j&&et.call(e,"__wrapped__");if(E||z){var k=E?t.value():t,D=z?e.value():e;return i||(i=new Et),r(k,D,n,o,i)}}if(!O)return!1;return i||(i=new Et),function(t,e,r,n,o,i){var u=2&o,a=ue(t),s=a.length,c=ue(e).length;if(s!=c&&!u)return!1;var l=s;for(;l--;){var f=a[l];if(!(u?f in e:et.call(e,f)))return!1}var h=i.get(t);if(h&&i.get(e))return h==e;var d=!0;i.set(t,e),i.set(e,t);var p=u;for(;++l<s;){var v=t[f=a[l]],y=e[f];if(n)var g=u?n(y,v,f,e,t,i):n(v,y,f,t,e,i);if(!(void 0===g?v===y||r(v,y,n,o,i):g)){d=!1;break}p||(p="constructor"==f)}if(d&&!p){var _=t.constructor,m=e.constructor;_==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof m&&m instanceof m||(d=!1)}return i.delete(t),i.delete(e),d}(t,e,r,n,o,i)}(t,e,Ct,r,n,o))}function Mt(t){return!(!re(t)||function(t){return!!Z&&Z in t}(t))&&(te(t)||U(t)?nt:z).test(qt(t))}function It(t){return"function"==typeof t?t:null==t?ae:"object"==typeof t?Xt(t)?function(t,e){if($t(t)&&Ut(e))return Qt(Gt(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:Dt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){e=$t(e,t)?[e]:Pt(e);var n,o=-1,i=e.length;for(;++o<i;){var u=Gt(e[o]);if(!(n=null!=t&&r(t,u)))break;t=t[u]}if(n)return n;return!!(i=t?t.length:0)&&ee(i)&&Jt(u,i)&&(Xt(t)||Ht(t))}(t,e,St)}(r,t):Ct(e,n,void 0,3)}}(t[0],t[1]):function(t){var e=function(t){var e=ue(t),r=e.length;for(;r--;){var n=e[r],o=t[n];e[r]=[n,o,Ut(o)]}return e}(t);if(1==e.length&&e[0][2])return Qt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var o=r.length,i=o,u=!n;if(null==t)return!i;for(t=Object(t);o--;){var a=r[o];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var s=(a=r[o])[0],c=t[s],l=a[1];if(u&&a[2]){if(void 0===c&&!(s in t))return!1}else{var f=new Et;if(n)var h=n(c,l,s,t,e,f);if(!(void 0===h?Ct(l,c,n,3,f):h))return!1}}return!0}(r,t,e)}}(t):function(t){return $t(t)?(e=Gt(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return Dt(e,t)}}(t);var e}(t)}function Lt(t){if(!function(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||H;return t===r}(t))return st(t);var e=[];for(var r in Object(t))et.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Pt(t){return Xt(t)?t:Vt(t)}xt.prototype.clear=function(){this.__data__=pt?pt(null):{}},xt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},xt.prototype.get=function(t){var e=this.__data__;if(pt){var r=e[t];return r===n?void 0:r}return et.call(e,t)?e[t]:void 0},xt.prototype.has=function(t){var e=this.__data__;return pt?void 0!==e[t]:et.call(e,t)},xt.prototype.set=function(t,e){return this.__data__[t]=pt&&void 0===e?n:e,this},At.prototype.clear=function(){this.__data__=[]},At.prototype.delete=function(t){var e=this.__data__,r=kt(e,t);return!(r<0)&&(r==e.length-1?e.pop():at.call(e,r,1),!0)},At.prototype.get=function(t){var e=this.__data__,r=kt(e,t);return r<0?void 0:e[r][1]},At.prototype.has=function(t){return kt(this.__data__,t)>-1},At.prototype.set=function(t,e){var r=this.__data__,n=kt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},jt.prototype.clear=function(){this.__data__={hash:new xt,map:new(lt||At),string:new xt}},jt.prototype.delete=function(t){return Tt(this,t).delete(t)},jt.prototype.get=function(t){return Tt(this,t).get(t)},jt.prototype.has=function(t){return Tt(this,t).has(t)},jt.prototype.set=function(t,e){return Tt(this,t).set(t,e),this},Ot.prototype.add=Ot.prototype.push=function(t){return this.__data__.set(t,n),this},Ot.prototype.has=function(t){return this.__data__.has(t)},Et.prototype.clear=function(){this.__data__=new At},Et.prototype.delete=function(t){return this.__data__.delete(t)},Et.prototype.get=function(t){return this.__data__.get(t)},Et.prototype.has=function(t){return this.__data__.has(t)},Et.prototype.set=function(t,e){var r=this.__data__;if(r instanceof At){var n=r.__data__;if(!lt||n.length<199)return n.push([t,e]),this;r=this.__data__=new jt(n)}return r.set(t,e),this};var Bt=ht&&1/V(new ht([,-0]))[1]==o?function(t){return new ht(t)}:function(){};function Rt(t,e,r,n,o,i){var u=2&o,a=t.length,s=e.length;if(a!=s&&!(u&&s>a))return!1;var c=i.get(t);if(c&&i.get(e))return c==e;var l=-1,f=!0,h=1&o?new Ot:void 0;for(i.set(t,e),i.set(e,t);++l<a;){var d=t[l],p=e[l];if(n)var v=u?n(p,d,l,e,t,i):n(d,p,l,t,e,i);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!W(e,(function(t,e){if(!h.has(e)&&(d===t||r(d,t,n,o,i)))return h.add(e)}))){f=!1;break}}else if(d!==p&&!r(d,p,n,o,i)){f=!1;break}}return i.delete(t),i.delete(e),f}function Tt(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function Nt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Mt(r)?r:void 0}var Wt=function(t){return rt.call(t)};function Jt(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||k.test(t))&&t>-1&&t%1==0&&t<e}function $t(t,e){if(Xt(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!oe(t))||(A.test(t)||!x.test(t)||null!=e&&t in Object(e))}function Ut(t){return t===t&&!re(t)}function Qt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(ct&&Wt(new ct(new ArrayBuffer(1)))!=F||lt&&Wt(new lt)!=h||ft&&Wt(ft.resolve())!=v||ht&&Wt(new ht)!=g||dt&&Wt(new dt)!=w)&&(Wt=function(t){var e=rt.call(t),r=e==p?t.constructor:void 0,n=r?qt(r):void 0;if(n)switch(n){case vt:return F;case yt:return h;case gt:return v;case _t:return g;case mt:return w}return e});var Vt=Kt((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(oe(t))return Ft?Ft.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var r=[];return j.test(t)&&r.push(""),t.replace(O,(function(t,e,n,o){r.push(n?o.replace(E,"$1"):e||t)})),r}));function Gt(t){if("string"==typeof t||oe(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function qt(t){if(null!=t){try{return tt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Kt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return r.cache=i.set(o,u),u};return r.cache=new(Kt.Cache||jt),r}function Yt(t,e){return t===e||t!==t&&e!==e}function Ht(t){return function(t){return ne(t)&&Zt(t)}(t)&&et.call(t,"callee")&&(!ut.call(t,"callee")||rt.call(t)==u)}Kt.Cache=jt;var Xt=Array.isArray;function Zt(t){return null!=t&&ee(t.length)&&!te(t)}function te(t){var e=re(t)?rt.call(t):"";return e==f||"[object GeneratorFunction]"==e}function ee(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function re(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ne(t){return!!t&&"object"==typeof t}function oe(t){return"symbol"==typeof t||ne(t)&&rt.call(t)==m}var ie=R?function(t){return function(e){return t(e)}}(R):function(t){return ne(t)&&ee(t.length)&&!!D[rt.call(t)]};function ue(t){return Zt(t)?zt(t):Lt(t)}function ae(t){return t}t.exports=function(t,e){return t&&t.length?function(t,e,r){var n=-1,o=T,i=t.length,u=!0,a=[],s=a;if(r)u=!1,o=N;else if(i>=200){var c=e?null:Bt(t);if(c)return V(c);u=!1,o=$,s=new Ot}else s=e?[]:a;t:for(;++n<i;){var l=t[n],f=e?e(l):l;if(l=r||0!==l?l:0,u&&f===f){for(var h=s.length;h--;)if(s[h]===f)continue t;e&&s.push(f),a.push(l)}else o(s,f,r)||(s!==a&&s.push(f),a.push(l))}return a}(t,It(e)):[]}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n](i,i.exports,r),i.loaded=!0,i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var n={};(()=>{"use strict";function t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(r){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach((function(e){t(r,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))}))}return r}r.d(n,{init:()=>G,search:()=>q});var i=r(392),u=r.n(i),a=function(){return a=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},a.apply(this,arguments)};function s(t){var e="function"===typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u}var l,f="KEYS",h="VALUES",d="",p=function(){function t(t,e){var r=t._tree,n=Array.from(r.keys());this.set=t,this._type=e,this._path=n.length>0?[{node:r,keys:n}]:[]}return t.prototype.next=function(){var t=this.dive();return this.backtrack(),t},t.prototype.dive=function(){if(0===this._path.length)return{done:!0,value:void 0};var t=v(this._path),e=t.node,r=t.keys;if(v(r)===d)return{done:!1,value:this.result()};var n=e.get(v(r));return this._path.push({node:n,keys:Array.from(n.keys())}),this.dive()},t.prototype.backtrack=function(){if(0!==this._path.length){var t=v(this._path).keys;t.pop(),t.length>0||(this._path.pop(),this.backtrack())}},t.prototype.key=function(){return this.set._prefix+this._path.map((function(t){var e=t.keys;return v(e)})).filter((function(t){return t!==d})).join("")},t.prototype.value=function(){return v(this._path).node.get(d)},t.prototype.result=function(){switch(this._type){case h:return this.value();case f:return this.key();default:return[this.key(),this.value()]}},t.prototype[Symbol.iterator]=function(){return this},t}(),v=function(t){return t[t.length-1]},y=function(t,e,r,n,o,i,u,a){var c,l,f=i*u;try{t:for(var h=s(t.keys()),p=h.next();!p.done;p=h.next()){var v=p.value;if(v===d){var g=o[f-1];g<=r&&n.set(a,[t.get(v),g])}else{for(var _=i,m=0;m<v.length;++m,++_){for(var w=v[m],b=u*_,F=b-u,x=o[b],A=Math.max(0,_-r-1),j=Math.min(u-1,_+r),O=A;O<j;++O){var E=w!==e[O],z=o[F+O]+ +E,k=o[F+O+1]+1,D=o[b+O]+1,S=o[b+O+1]=Math.min(z,k,D);S<x&&(x=S)}if(x>r)continue t}y(t.get(v),e,r,n,o,_,u,a+v)}}}catch(C){c={error:C}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(c)throw c.error}}},g=function(){function t(t,e){void 0===t&&(t=new Map),void 0===e&&(e=""),this._size=void 0,this._tree=t,this._prefix=e}return t.prototype.atPrefix=function(e){var r,n;if(!e.startsWith(this._prefix))throw new Error("Mismatched prefix");var o=c(_(this._tree,e.slice(this._prefix.length)),2),i=o[0],u=o[1];if(void 0===i){var a=c(A(u),2),l=a[0],f=a[1];try{for(var h=s(l.keys()),p=h.next();!p.done;p=h.next()){var v=p.value;if(v!==d&&v.startsWith(f)){var y=new Map;return y.set(v.slice(f.length),l.get(v)),new t(y,e)}}}catch(g){r={error:g}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}}return new t(i,e)},t.prototype.clear=function(){this._size=void 0,this._tree.clear()},t.prototype.delete=function(t){return this._size=void 0,b(this._tree,t)},t.prototype.entries=function(){return new p(this,"ENTRIES")},t.prototype.forEach=function(t){var e,r;try{for(var n=s(this),o=n.next();!o.done;o=n.next()){var i=c(o.value,2);t(i[0],i[1],this)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.fuzzyGet=function(t,e){return function(t,e,r){var n=new Map;if(void 0===e)return n;for(var o=e.length+1,i=o+r,u=new Uint8Array(i*o).fill(r+1),a=0;a<o;++a)u[a]=a;for(var s=1;s<i;++s)u[s*o]=s;return y(t,e,r,n,u,1,o,""),n}(this._tree,t,e)},t.prototype.get=function(t){var e=m(this._tree,t);return void 0!==e?e.get(d):void 0},t.prototype.has=function(t){var e=m(this._tree,t);return void 0!==e&&e.has(d)},t.prototype.keys=function(){return new p(this,f)},t.prototype.set=function(t,e){if("string"!==typeof t)throw new Error("key must be a string");return this._size=void 0,w(this._tree,t).set(d,e),this},Object.defineProperty(t.prototype,"size",{get:function(){if(this._size)return this._size;this._size=0;for(var t=this.entries();!t.next().done;)this._size+=1;return this._size},enumerable:!1,configurable:!0}),t.prototype.update=function(t,e){if("string"!==typeof t)throw new Error("key must be a string");this._size=void 0;var r=w(this._tree,t);return r.set(d,e(r.get(d))),this},t.prototype.fetch=function(t,e){if("string"!==typeof t)throw new Error("key must be a string");this._size=void 0;var r=w(this._tree,t),n=r.get(d);return void 0===n&&r.set(d,n=e()),n},t.prototype.values=function(){return new p(this,h)},t.prototype[Symbol.iterator]=function(){return this.entries()},t.from=function(e){var r,n,o=new t;try{for(var i=s(e),u=i.next();!u.done;u=i.next()){var a=c(u.value,2),l=a[0],f=a[1];o.set(l,f)}}catch(h){r={error:h}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},t.fromObject=function(e){return t.from(Object.entries(e))},t}(),_=function(t,e,r){var n,o;if(void 0===r&&(r=[]),0===e.length||null==t)return[t,r];try{for(var i=s(t.keys()),u=i.next();!u.done;u=i.next()){var a=u.value;if(a!==d&&e.startsWith(a))return r.push([t,a]),_(t.get(a),e.slice(a.length),r)}}catch(c){n={error:c}}finally{try{u&&!u.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return r.push([t,e]),_(void 0,"",r)},m=function(t,e){var r,n;if(0===e.length||null==t)return t;try{for(var o=s(t.keys()),i=o.next();!i.done;i=o.next()){var u=i.value;if(u!==d&&e.startsWith(u))return m(t.get(u),e.slice(u.length))}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},w=function(t,e){var r,n,o=e.length;t:for(var i=0;t&&i<o;){try{for(var u=(r=void 0,s(t.keys())),a=u.next();!a.done;a=u.next()){var c=a.value;if(c!==d&&e[i]===c[0]){for(var l=Math.min(o-i,c.length),f=1;f<l&&e[i+f]===c[f];)++f;var h=t.get(c);if(f===c.length)t=h;else{var p=new Map;p.set(c.slice(f),h),t.set(e.slice(i,i+f),p),t.delete(c),t=p}i+=f;continue t}}}catch(y){r={error:y}}finally{try{a&&!a.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}var v=new Map;return t.set(e.slice(i),v),v}return t},b=function(t,e){var r=c(_(t,e),2),n=r[0],o=r[1];if(void 0!==n)if(n.delete(d),0===n.size)F(o);else if(1===n.size){var i=c(n.entries().next().value,2),u=i[0],a=i[1];x(o,u,a)}},F=function(t){if(0!==t.length){var e=c(A(t),2),r=e[0],n=e[1];if(r.delete(n),0===r.size)F(t.slice(0,-1));else if(1===r.size){var o=c(r.entries().next().value,2),i=o[0],u=o[1];i!==d&&x(t.slice(0,-1),i,u)}}},x=function(t,e,r){if(0!==t.length){var n=c(A(t),2),o=n[0],i=n[1];o.set(i+e,r),o.delete(i)}},A=function(t){return t[t.length-1]},j="or",O=function(){function t(t){if(null==(null===t||void 0===t?void 0:t.fields))throw new Error('MiniSearch: option "fields" must be provided');this._options=a(a(a({},S),t),{searchOptions:a(a({},C),t.searchOptions||{}),autoSuggestOptions:a(a({},M),t.autoSuggestOptions||{})}),this._index=new g,this._documentCount=0,this._documentIds=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this.addFields(this._options.fields)}return t.prototype.add=function(t){var e,r,n,o,i=this._options,u=i.extractField,a=i.tokenize,c=i.processTerm,l=i.fields,f=i.idField,h=u(t,f);if(null==h)throw new Error('MiniSearch: document does not have ID field "'.concat(f,'"'));var d=this.addDocumentId(h);this.saveStoredFields(d,t);try{for(var p=s(l),v=p.next();!v.done;v=p.next()){var y=v.value,g=u(t,y);if(null!=g){var _=a(g.toString(),y),m=this._fieldIds[y],w=new Set(_).size;this.addFieldLength(d,m,this._documentCount-1,w);try{for(var b=(n=void 0,s(_)),F=b.next();!F.done;F=b.next()){var x=c(F.value,y);x&&this.addTerm(m,d,x)}}catch(A){n={error:A}}finally{try{F&&!F.done&&(o=b.return)&&o.call(b)}finally{if(n)throw n.error}}}}}catch(j){e={error:j}}finally{try{v&&!v.done&&(r=p.return)&&r.call(p)}finally{if(e)throw e.error}}},t.prototype.addAll=function(t){var e,r;try{for(var n=s(t),o=n.next();!o.done;o=n.next()){var i=o.value;this.add(i)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.addAllAsync=function(t,e){var r=this;void 0===e&&(e={});var n=e.chunkSize,o=void 0===n?10:n,i={chunk:[],promise:Promise.resolve()},u=t.reduce((function(t,e,n){var i=t.chunk,u=t.promise;return i.push(e),(n+1)%o===0?{chunk:[],promise:u.then((function(){return new Promise((function(t){return setTimeout(t,0)}))})).then((function(){return r.addAll(i)}))}:{chunk:i,promise:u}}),i),a=u.chunk;return u.promise.then((function(){return r.addAll(a)}))},t.prototype.remove=function(t){var e,r,n,o,i,u,a=this._options,l=a.tokenize,f=a.processTerm,h=a.extractField,d=a.fields,p=a.idField,v=h(t,p);if(null==v)throw new Error('MiniSearch: document does not have ID field "'.concat(p,'"'));try{for(var y=s(this._documentIds),g=y.next();!g.done;g=y.next()){var _=c(g.value,2),m=_[0];if(v===_[1]){try{for(var w=(n=void 0,s(d)),b=w.next();!b.done;b=w.next()){var F=b.value,x=h(t,F);if(null!=x){var A=l(x.toString(),F),j=this._fieldIds[F],O=new Set(A).size;this.removeFieldLength(m,j,this._documentCount,O);try{for(var E=(i=void 0,s(A)),z=E.next();!z.done;z=E.next()){var k=f(z.value,F);k&&this.removeTerm(j,m,k)}}catch(D){i={error:D}}finally{try{z&&!z.done&&(u=E.return)&&u.call(E)}finally{if(i)throw i.error}}}}}catch(S){n={error:S}}finally{try{b&&!b.done&&(o=w.return)&&o.call(w)}finally{if(n)throw n.error}}return this._storedFields.delete(m),this._documentIds.delete(m),this._fieldLength.delete(m),void(this._documentCount-=1)}}}catch(C){e={error:C}}finally{try{g&&!g.done&&(r=y.return)&&r.call(y)}finally{if(e)throw e.error}}throw new Error("MiniSearch: cannot remove document with ID ".concat(v,": it is not in the index"))},t.prototype.removeAll=function(t){var e,r;if(t)try{for(var n=s(t),o=n.next();!o.done;o=n.next()){var i=o.value;this.remove(i)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new g,this._documentCount=0,this._documentIds=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}},t.prototype.search=function(t,e){var r,n;void 0===e&&(e={});var o=this.executeQuery(t,e),i=[];try{for(var u=s(o),a=u.next();!a.done;a=u.next()){var l=c(a.value,2),f=l[0],h=l[1],d=h.score,p=h.terms,v=h.match,y=p.length,g={id:this._documentIds.get(f),score:d*y,terms:Object.keys(v),match:v};Object.assign(g,this._storedFields.get(f)),(null==e.filter||e.filter(g))&&i.push(g)}}catch(_){r={error:_}}finally{try{a&&!a.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return i.sort(P),i},t.prototype.autoSuggest=function(t,e){var r,n,o,i;void 0===e&&(e={}),e=a(a({},this._options.autoSuggestOptions),e);var u=new Map;try{for(var l=s(this.search(t,e)),f=l.next();!f.done;f=l.next()){var h=f.value,d=h.score,p=(b=h.terms).join(" ");null!=(m=u.get(p))?(m.score+=d,m.count+=1):u.set(p,{score:d,terms:b,count:1})}}catch(x){r={error:x}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}var v=[];try{for(var y=s(u),g=y.next();!g.done;g=y.next()){var _=c(g.value,2),m=_[0],w=_[1],b=(d=w.score,w.terms),F=w.count;v.push({suggestion:m,terms:b,score:d/F})}}catch(A){o={error:A}}finally{try{g&&!g.done&&(i=y.return)&&i.call(y)}finally{if(o)throw o.error}}return v.sort(P),v},Object.defineProperty(t.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0}),t.loadJSON=function(e,r){if(null==r)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return t.loadJS(JSON.parse(e),r)},t.getDefault=function(t){if(S.hasOwnProperty(t))return E(S,t);throw new Error('MiniSearch: unknown option "'.concat(t,'"'))},t.loadJS=function(e,r){var n,o,i,u,a=e.index,l=e.documentCount,f=e.nextId,h=e.documentIds,d=e.fieldIds,p=e.fieldLength,v=e.averageFieldLength,y=e.storedFields,_=e.serializationVersion;if(1!==_&&2!==_)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");var m=new t(r);m._documentCount=l,m._nextId=f,m._documentIds=R(h),m._fieldIds=d,m._fieldLength=R(p),m._avgFieldLength=v,m._storedFields=R(y),m._index=new g;try{for(var w=s(a),b=w.next();!b.done;b=w.next()){var F=c(b.value,2),x=F[0],A=F[1],j=new Map;try{for(var O=(i=void 0,s(Object.keys(A))),E=O.next();!E.done;E=O.next()){var z=E.value,k=A[z];1===_&&(k=k.ds),j.set(parseInt(z,10),R(k))}}catch(D){i={error:D}}finally{try{E&&!E.done&&(u=O.return)&&u.call(O)}finally{if(i)throw i.error}}m._index.set(x,j)}}catch(S){n={error:S}}finally{try{b&&!b.done&&(o=w.return)&&o.call(w)}finally{if(n)throw n.error}}return m},t.prototype.executeQuery=function(t,e){var r=this;if(void 0===e&&(e={}),"string"!==typeof t){var n=a(a(a({},e),t),{queries:void 0}),o=t.queries.map((function(t){return r.executeQuery(t,n)}));return this.combineResults(o,t.combineWith)}var i=this._options,u=i.tokenize,s=i.processTerm,c=i.searchOptions,l=a(a({tokenize:u,processTerm:s},c),e),f=l.tokenize,h=l.processTerm,d=f(t).map((function(t){return h(t)})).filter((function(t){return!!t})).map(D(l)).map((function(t){return r.executeQuerySpec(t,l)}));return this.combineResults(d,l.combineWith)},t.prototype.executeQuerySpec=function(t,e){var r,n,o,i,u,l,f=a(a({},this._options.searchOptions),e),h=(f.fields||this._options.fields).reduce((function(t,e){var r;return a(a({},t),((r={})[e]=E(t,e)||1,r))}),f.boost||{}),d=f.boostDocument,p=f.weights,v=f.maxFuzzy,y=a(a({},C.weights),p),g=y.fuzzy,_=y.prefix,m=this._index.get(t.term),w=this.termResults(t.term,t.term,1,m,h,d);if(t.prefix&&(u=this._index.atPrefix(t.term)),t.fuzzy){var b=!0===t.fuzzy?.2:t.fuzzy,F=b<1?Math.min(v,Math.round(t.term.length*b)):b;F&&(l=this._index.fuzzyGet(t.term,F))}if(u)try{for(var x=s(u),A=x.next();!A.done;A=x.next()){var j=c(A.value,2),O=j[0],z=j[1];if(M=O.length-t.term.length){null===l||void 0===l||l.delete(O);var k=_*O.length/(O.length+.3*M);this.termResults(t.term,O,k,z,h,d,w)}}}catch(P){r={error:P}}finally{try{A&&!A.done&&(n=x.return)&&n.call(x)}finally{if(r)throw r.error}}if(l)try{for(var D=s(l.keys()),S=D.next();!S.done;S=D.next()){O=S.value;var M,I=c(l.get(O),2),L=I[0];if(M=I[1]){k=g*O.length/(O.length+M);this.termResults(t.term,O,k,L,h,d,w)}}}catch(B){o={error:B}}finally{try{S&&!S.done&&(i=D.return)&&i.call(D)}finally{if(o)throw o.error}}return w},t.prototype.combineResults=function(t,e){if(void 0===e&&(e=j),0===t.length)return new Map;var r=e.toLowerCase();return t.reduce(z[r])||new Map},t.prototype.toJSON=function(){var t,e,r,n,o=[];try{for(var i=s(this._index),u=i.next();!u.done;u=i.next()){var a=c(u.value,2),l=a[0],f=a[1],h={};try{for(var d=(r=void 0,s(f)),p=d.next();!p.done;p=d.next()){var v=c(p.value,2),y=v[0],g=v[1];h[y]=Object.fromEntries(g)}}catch(_){r={error:_}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}o.push([l,h])}}catch(m){t={error:m}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),index:o,serializationVersion:2}},t.prototype.termResults=function(t,e,r,n,o,i,u){var a,c,l,f,h;if(void 0===u&&(u=new Map),null==n)return u;try{for(var d=s(Object.keys(o)),p=d.next();!p.done;p=d.next()){var v=p.value,y=o[v],g=this._fieldIds[v],_=n.get(g);if(null!=_){var m=_.size,w=this._avgFieldLength[g];try{for(var b=(l=void 0,s(_.keys())),F=b.next();!F.done;F=b.next()){var x=F.value,A=i?i(this._documentIds.get(x),e):1;if(A){var j=_.get(x),O=this._fieldLength.get(x)[g],z=r*y*A*k(j,m,this._documentCount,O,w),D=u.get(x);if(D){D.score+=z,I(D.terms,t);var S=E(D.match,e);S?S.push(v):D.match[e]=[v]}else u.set(x,{score:z,terms:[t],match:(h={},h[e]=[v],h)})}}}catch(C){l={error:C}}finally{try{F&&!F.done&&(f=b.return)&&f.call(b)}finally{if(l)throw l.error}}}}}catch(M){a={error:M}}finally{try{p&&!p.done&&(c=d.return)&&c.call(d)}finally{if(a)throw a.error}}return u},t.prototype.addTerm=function(t,e,r){var n=this._index.fetch(r,B),o=n.get(t);if(null==o)(o=new Map).set(e,1),n.set(t,o);else{var i=o.get(e);o.set(e,(i||0)+1)}},t.prototype.removeTerm=function(t,e,r){if(this._index.has(r)){var n=this._index.fetch(r,B),o=n.get(t);null==o||null==o.get(e)?this.warnDocumentChanged(e,t,r):o.get(e)<=1?o.size<=1?n.delete(t):o.delete(e):o.set(e,o.get(e)-1),0===this._index.get(r).size&&this._index.delete(r)}else this.warnDocumentChanged(e,t,r)},t.prototype.warnDocumentChanged=function(t,e,r){var n,o;if(null!=console&&null!=console.warn)try{for(var i=s(Object.keys(this._fieldIds)),u=i.next();!u.done;u=i.next()){var a=u.value;if(this._fieldIds[a]===e)return void console.warn("MiniSearch: document with ID ".concat(this._documentIds.get(t),' has changed before removal: term "').concat(r,'" was not present in field "').concat(a,'". Removing a document after it has changed can corrupt the index!'))}}catch(c){n={error:c}}finally{try{u&&!u.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}},t.prototype.addDocumentId=function(t){var e=this._nextId;return this._documentIds.set(e,t),this._documentCount+=1,this._nextId+=1,e},t.prototype.addFields=function(t){for(var e=0;e<t.length;e++)this._fieldIds[t[e]]=e},t.prototype.addFieldLength=function(t,e,r,n){var o=this._fieldLength.get(t);null==o&&this._fieldLength.set(t,o=[]),o[e]=n;var i=(this._avgFieldLength[e]||0)*r+n;this._avgFieldLength[e]=i/(r+1)},t.prototype.removeFieldLength=function(t,e,r,n){var o=this._avgFieldLength[e]*r-n;this._avgFieldLength[e]=o/(r-1)},t.prototype.saveStoredFields=function(t,e){var r,n,o=this._options,i=o.storeFields,u=o.extractField;if(null!=i&&0!==i.length){var a=this._storedFields.get(t);null==a&&this._storedFields.set(t,a={});try{for(var c=s(i),l=c.next();!l.done;l=c.next()){var f=l.value,h=u(e,f);void 0!==h&&(a[f]=h)}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}}},t}(),E=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},z=((l={}).or=function(t,e){var r,n;try{for(var o=s(e.keys()),i=o.next();!i.done;i=o.next()){var u=i.value,a=t.get(u);if(null==a)t.set(u,e.get(u));else{var c=e.get(u),l=c.score,f=c.terms,h=c.match;a.score=a.score+l,a.match=Object.assign(a.match,h),L(a.terms,f)}}}catch(d){r={error:d}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return t},l.and=function(t,e){var r,n,o=new Map;try{for(var i=s(e.keys()),u=i.next();!u.done;u=i.next()){var a=u.value,c=t.get(a);if(null!=c){var l=e.get(a),f=l.score,h=l.terms,d=l.match;L(c.terms,h),o.set(a,{score:c.score+f,terms:c.terms,match:Object.assign(c.match,d)})}}}catch(p){r={error:p}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},l.and_not=function(t,e){var r,n;try{for(var o=s(e.keys()),i=o.next();!i.done;i=o.next()){var u=i.value;t.delete(u)}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return t},l),k=function(t,e,r,n,o){return Math.log(1+(r-e+.5)/(e+.5))*(.5+2.2*t/(t+1.2*(1-.7+.7*n/o)))},D=function(t){return function(e,r,n){return{term:e,fuzzy:"function"===typeof t.fuzzy?t.fuzzy(e,r,n):t.fuzzy||!1,prefix:"function"===typeof t.prefix?t.prefix(e,r,n):!0===t.prefix}}},S={idField:"id",extractField:function(t,e){return t[e]},tokenize:function(t,e){return t.split(T)},processTerm:function(t,e){return t.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[]},C={combineWith:j,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375}},M={combineWith:"and",prefix:function(t,e,r){return e===r.length-1}},I=function(t,e){t.includes(e)||t.push(e)},L=function(t,e){var r,n;try{for(var o=s(e),i=o.next();!i.done;i=o.next()){var u=i.value;t.includes(u)||t.push(u)}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},P=function(t,e){var r=t.score;return e.score-r},B=function(){return new Map},R=function(t){var e,r,n=new Map;try{for(var o=s(Object.keys(t)),i=o.next();!i.done;i=o.next()){var u=i.value;n.set(parseInt(u,10),t[u])}}catch(a){e={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n},T=/[\n\r -#%-\*,-\/:;\?@\[-\]_\{\}\xA0\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/;let N,W=null,J="";const $="https://storage.googleapis.com/paddedmemes-assets";async function U(t,e){const r=await caches.open("paddedmemes-v1"),n="".concat($,"/").concat(e),o="".concat($,"/").concat(t),i=await fetch(n),u=i.ok?await i.json():null;if(u){const t=await r.match(n);if(t){if((await t.json()).hash===u.hash){const t=await r.match(o);if(t)return t.text()}}}const a=await fetch(o),s=new globalThis.DecompressionStream("gzip"),c=a.body.pipeThrough(s),l=await new Response(c).text();return await r.put(o,new Response(l)),u&&await r.put(n,new Response(JSON.stringify(u))),l}const Q=()=>{if(!N)return;if(""===J.split(" ").filter((t=>t.length>=3)).join(" "))return r.g.self.postMessage(["setDidSearch",!1]),void r.g.self.postMessage(["setSearchResults",[]]);const t=N.search(J);let e=t;if(W){const r=W.search(J),i=new Map;for(const e of t)i.set(e.photo,e);for(const t of r){const e=i.get(t.photo);e?e.score+=t.score:i.set(t.photo,o(o({},t),(n=t.photo,V[n]||{})))}e=Array.from(i.values()).sort(((t,e)=>e.score-t.score))}var n;const i=e.filter(((t,e,r)=>r.findIndex((e=>t.photo===e.photo))===e));r.g.self.postMessage(["setDidSearch",!0]),r.g.self.postMessage(["setSearchResults",i.slice(0,40)])};let V={};async function G(){const t=U("db.json","db.version.json"),e=U("descriptions.json","descriptions.version.json").catch((()=>null)),[n,o]=await Promise.all([t,e]);N=O.loadJSON(n,{idField:"photo",fields:["text"],storeFields:["date_unixtime","photo","width","height"],searchOptions:{combineWith:"AND",prefix:!0}});const i=JSON.parse(n).storedFields;V={};for(const[,r]of Object.entries(i))V[r.photo]=r;o&&(W=O.loadJSON(o,{idField:"photo",fields:["description"],storeFields:["photo","description_en","description_es"],searchOptions:{combineWith:"AND",prefix:!0}}));const a=u()(Object.values(i),(t=>t.photo)).sort(((t,e)=>-parseInt(t.date_unixtime,10)+parseInt(e.date_unixtime,10))).slice(0,40);r.g.self.postMessage(["setReady",!0]),r.g.self.postMessage(["setDefaultResults",a]),Q()}async function q(t){J=t,Q()}addEventListener("message",(function(t){var e,r=t.data,o=r.type,i=r.method,u=r.id,a=r.params;"RPC"===o&&i&&((e=n[i])?Promise.resolve().then((function(){return e.apply(n,a)})):Promise.reject("No such method")).then((function(t){postMessage({type:"RPC",id:u,result:t})})).catch((function(t){var e={message:t};t.stack&&(e.message=t.message,e.stack=t.stack,e.name=t.name),postMessage({type:"RPC",id:u,error:e})}))})),postMessage({type:"RPC",method:"ready"})})()})();
//# sourceMappingURL=803f23db7b77ce9ff079.worker.js.map